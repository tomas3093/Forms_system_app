
<div>
  <h1>Create form</h1>

  <div class="form-group">
    <input type="text" class="form-control" placeholder="Name of the form"
           required [(ngModel)]="formData.name" name="formName">
  </div>


  <!-- EXISTING QUESTIONS -->
  <div [hidden]="questions.length === 0">
    <table class="table">
      <thead>
        <tr>
          <th>No.</th>
          <th>Question</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let q of questions">
          <td>{{ q.question.sequence_number + 1 }}</td>
          <td>{{ q.question.text_value }}</td>
          <td><button class="btn-info btn-sm" (click)="editQuestion(q.question.sequence_number)"><i class="fas fa-pencil-alt fa-lg"></i></button></td>
          <td><button class="btn-danger btn-sm" (click)="deleteQuestion(q.question.sequence_number)"><i class="fas fa-times fa-lg"></i></button></td>
        </tr>
      </tbody>
    </table>
  </div>


  <!-- QUESTION EDITOR -->
  <div [hidden]="!questionEditorEnabled">
    <div class="form-group">
      <input type="text" class="form-control" placeholder="Question"
             required [(ngModel)]="questionData.text_value" name="formQuestionText">
    </div>


    <!-- OPTION EDITOR -->
    <div [hidden]="!optionEditorEnabled">

      <!-- EXISTING OPTIONS -->
      <div [hidden]="options.length === 0">
        <table class="table">
          <thead>
          <tr>
            <th>No.</th>
            <th>Option</th>
            <th>Note</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
          </thead>

          <tbody>
          <tr *ngFor="let option of options">
            <td>{{ option.sequence_number + 1 }}</td>
            <td>{{ option.option_value }}</td>
            <td>{{ option.option_note }}</td>
            <td><a href="#" (click)="editOption(option.sequence_number)"><i class="fas fa-pencil-alt fa-2x"></i></a></td>
            <td><a href="#" (click)="deleteOption(option.sequence_number)"><i class="fas fa-times fa-2x"></i></a></td>
          </tr>
          </tbody>
        </table>
      </div>

      <div class="form-group">
        <input type="text" class="form-control" placeholder="Option"
               required [(ngModel)]="optionData.option_value" name="formOptionText">
      </div>
    </div>


    <div class="btn-group">
      <button type="button" class="btn btn-primary" (click)="addOptionFunction()" [disabled]="questionData.text_value === ''">
        <i class="fas fa-plus-circle"></i> Add option
      </button>
    </div>
  </div>


  <div class="btn-group">
    <button type="button" class="btn btn-primary" (click)="addQuestionFunction()" [disabled]="formData.name === ''">
      <i class="fas fa-plus-circle"></i> Add question
    </button>
  </div>
</div>

